{% extends "base.html" %}
{% load static %}

{% block css %}
    <link rel="icon" href="{% static 'img/favicon.png' %}">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <!-- Custom Style CSS -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f4f7fc; /* Цвет фона страницы */
        }
    </style>
{% endblock css %}

{% block modal_cart %}
{% include "includes/cart_button.html" %}
{% endblock modal_cart %}

{% block content %}
    <section class="login_part padding_top">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-12 col-md-12">
                    <div class="login_part_form">
                        <div class="login_part_form_iner">
                            <h3>Hi! Please, Write your data!</h3>
                            <form class="row contact_form" action="{% url 'user:registration' %}" method="post" novalidate="novalidate">
                                {% csrf_token %}

                                <!-- Row 1 -->
                                <div class="col-md-6 form-group p_star">
                                    <input type="text" class="form-control" 
                                        {% if form.first_name.value %} 
                                            value="{{ form.first_name.value }}" 
                                        {% endif %}
                                        id="id_first_name" name="first_name" placeholder="First Name" required>
                                    {% if form.first_name.errors %}
                                        <div class="alert alert-danger" role="alert">
                                            {{ form.first_name.errors }}
                                        </div>
                                    {% endif %}
                                </div>

                                <div class="col-md-6 form-group p_star">
                                    <input type="text" class="form-control" 
                                        {% if form.last_name.value %}
                                            value="{{ form.last_name.value }}"
                                        {% endif %}
                                        id="id_last_name" name="last_name" placeholder="Last Name" required>
                                    {% if form.last_name.errors %}
                                        <div class="alert alert-danger" role="alert">
                                            {{ form.last_name.errors }}
                                        </div>
                                    {% endif %}
                                </div>

                                <div class="col-md-6 form-group p_star">
                                    <input type="text" class="form-control" 
                                        {% if form.username.value %}
                                            value="{{ form.username.value }}"
                                        {% endif %}
                                        id="id_username" name="username" placeholder="Username" required>
                                    {% if form.username.errors %}
                                        <div class="alert alert-danger" role="alert">
                                            {{ form.username.errors }}
                                        </div>
                                    {% endif %}
                                </div>

                                <div class="col-md-6 form-group p_star">
                                    <input type="email" class="form-control" 
                                        {% if form.email.value %}
                                            value="{{ form.email.value }}"
                                        {% endif %}
                                        id="id_email" name="email" placeholder="Email" required>
                                    {% if form.email.errors %}
                                        <div class="alert alert-danger" role="alert">
                                            {{ form.email.errors }}
                                        </div>
                                    {% endif %}
                                </div>

                                <!-- Row 2: Phone and Country in one row -->
                                <div class="col-md-6 form-group p_star">
                                    <input type="text" class="form-control" 
                                        {% if form.phone_number.value %}
                                            value="{{ form.phone_number.value }}"
                                        {% endif %}
                                        id="id_phone_number" name="phone_number" placeholder="Phone Number">
                                    {% if form.phone_number.errors %}
                                        <div class="alert alert-danger" role="alert">
                                            {{ form.phone_number.errors }}
                                        </div>
                                    {% endif %}
                                </div>

                                <div class="col-md-6 form-group p_star">
                                    <select class="form-control" id="id_country" name="country">
                                        <option value="" disabled selected>Select Country</option>
                                        {% for country in countries %}
                                            <option value="{{ country.code }}" 
                                                {% if form.country.value == country.code %}selected{% endif %}>
                                                {{ country.name }}
                                            </option>
                                        {% endfor %}
                                    </select>
                                    {% if form.country.errors %}
                                        <div class="alert alert-danger" role="alert">
                                            {{ form.country.errors }}
                                        </div>
                                    {% endif %}
                                </div>

                                <!-- Address block -->
                                <div class="col-md-12 form-group p_star">
                                    <input type="text" class="form-control" 
                                        {% if form.address.value %}
                                            value="{{ form.address.value }}"
                                        {% endif %}
                                        id="id_address" name="address" placeholder="Address">
                                    {% if form.address.errors %}
                                        <div class="alert alert-danger" role="alert">
                                            {{ form.address.errors }}
                                        </div>
                                    {% endif %}
                                </div>

                                <!-- Password fields -->
                                <div class="col-md-6 form-group p_star">
                                    <input type="password" class="form-control" 
                                        {% if form.password1.value %}
                                            value="{{ form.password1.value }}"
                                        {% endif %}
                                        id="id_password1" name="password1" placeholder="Password">
                                    {% if form.password1.errors %}
                                        <div class="alert alert-danger" role="alert">
                                            {{ form.password1.errors }}
                                        </div>
                                    {% endif %}
                                </div>

                                <div class="col-md-6 form-group p_star">
                                    <input type="password" class="form-control" 
                                        {% if form.password2.value %}
                                            value="{{ form.password2.value }}"
                                        {% endif %}
                                        id="id_password2" name="password2" placeholder="Confirm Password">
                                    {% if form.password2.errors %}
                                        <div class="alert alert-danger" role="alert">
                                            {{ form.password2.errors }}
                                        </div>
                                    {% endif %}
                                </div>

                                <div class="col-md-12 form-group">
                                    <button type="submit" value="submit" class="btn_3">
                                        CREATE ACCOUNT
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock content %}

{% block js %}
    <script src="{% static 'js/jquery-1.12.1.min.js' %}"></script>
    <script src="{% static 'js/popper.min.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
{% endblock js %}
